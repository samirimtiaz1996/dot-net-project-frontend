<div class="base-file-uploader">

    <div fxLayout="column" fxLayoutAlign="center" fxLayoutGap="16px" class="file-input-box" [ngClass]="dataContext.showBorderBox? '.show-border-box' : ''">
        <div class="page-header-4" *ngIf="dataContext?.title">
            {{dataContext.title}} <span *ngIf="dataContext?.isRequired">*</span>
        </div>
        <div *ngIf="dataContext && !dataContext.title">
            Upload
        </div>
        <div *ngIf="dataContext?.description">
            {{dataContext.description}}
        </div>

        <div *ngIf="!uploadedFile">
            <input [required]="dataContext.isRequired" [accept]=" config.fileTypes? (config.fileTypes | acceptFormat) : 'image/*,.pdf'" style="display: none;"  #fileUploadInput type="file" (click)="$event.stopPropagation();emitControlTouch(); " (change)="onFileChange($event)">
            <button mat-button [disabled]="fileDeleting || fileUploading" (click)="$event.preventDefault();fileUploadInput.click()">
                <mat-icon>file_upload</mat-icon>
                <span>Upload file</span>
            </button>
        </div>

        <ng-container *ngIf="errorMessages && errorMessages.length">
            <div class="error-message" *ngFor="let errorMsg of errorMessages">
                {{errorMsg}}
            </div>
        </ng-container>
         
        <div>
            <div  fxLayout="row" fxLayoutGap="8px" fxLayoutAlign="space-between center" *ngIf="uploadedFile" class="fake-uploader-box">
                <div>
                 {{uploadedFile.name}}
                </div>
                <div>
                     <button mat-icon-button (click)="deleteFile()" [disabled]="fileDeleting || fileUploading" ><mat-icon>delete</mat-icon></button>
                </div>
             </div>
        </div>
       
      
    </div>

</div>